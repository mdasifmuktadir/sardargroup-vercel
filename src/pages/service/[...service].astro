---
import { type CollectionEntry, getCollection, render } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import Services from '../../components/Services.astro'; 
import Footer from '../../components/Footer.astro';
import Image from 'astro/components/Image.astro';


export async function getStaticPaths() {
	const services = await getCollection('services');
	return services.map((service: { id: any; }) => ({
		params: { service: service.id },
		props: service,
	}));
}
type Props = CollectionEntry<'services'>;


const service = Astro.props;
const { Content } = await render(service);

console.log(service);



---
<BaseLayout>

<div id="smooth-wrapper">
    <div id="smooth-content">
      <main id="primary" class="site-main">
        <div class="space-for-header"></div>
        <!-- start: Breadcrumb Section -->
        <section class="tj-page-header section-gap-x" style={`background-image: url('${service.data.heroImage?.src ?? '/assets/fallback-hero.jpg'}'); `}>
          <div class="container">
            <div class="row">
              <div class="col-lg-12">
                <div class="tj-page-header-content text-center">
                  <h1 class="tj-page-title">Service Details</h1>
                  <div class="tj-page-link">
                    <span><i class="tji-home"></i></span>
                    <span>
                      <a href="index.html">Home</a>
                    </span>
                    <span><i class="tji-arrow-right"></i></span>
                    <span>
                      <span>Service Details</span>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="page-header-overlay" data-bg-image={service.data.heroImage?.src}></div>
        </section>
        <!-- end: Breadcrumb Section -->

        <!-- start: Blog Section -->
        <section class="tj-blog-section section-gap slidebar-stickiy-container">
          <div class="container">
            <div class="row row-gap-5">
              <div class="col-lg-8">
                <div class="post-details-wrapper">
                  <div class="blog-images wow fadeInUp" data-wow-delay=".1s">
                              {service.data.mainImage && (
  <Image src={service.data.mainImage} alt="" />
)}
                  </div>
                  <h2 class="title title-anim">{service.data.title}</h2>
                  <div class="blog-text">
                    <p class="wow fadeInUp" data-wow-delay=".3s">{service.data.description}
                    </p>
                      
                      <p class="wow fadeInUp" style="font-weight:bold" data-wow-delay=".3s">{service.data.benefitsTitle}:</p>
                    <ul class="wow fadeInUp" data-wow-delay=".3s">
                      {service.data.benefits.map((benefit: unknown)=>(
                               <li><span><i class="tji-check"></i></span>{benefit}</li>
                      ))}
                  
                    </ul>
                    <div class="images-wrap">
                      <div class="row">
                        <div class="col-sm-6">
                          <div class="image-box wow fadeInUp" data-wow-delay=".3s">
                             {service.data.image1 && (
  <Image src={service.data.image1} alt="" />
)}
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="image-box wow fadeInUp" data-wow-delay=".5s">
                                                        {service.data.image2 && (
  <Image src={service.data.image2} alt="" />
)}
                          </div>
                        </div>
                      </div>
                    </div>
                    <h3 class="wow fadeInUp" data-wow-delay=".3s">{service.data.subServicesTitle}</h3>
                    <p class="wow fadeInUp" data-wow-delay=".3s">{service.data.subServicesDescription}</p>
                    <div class="details-content-box">

                      {(service.data.subServices ?? []).map((subService: { title: unknown; description: unknown; }, index: any) => (
                               <div class="service-details-item wow fadeInUp" data-wow-delay=".2s">
                        <span class="number">01.</span>
                        <h6 class="title">{subService.title}</h6>
                        <div class="desc">
                          <p>{subService.description}</p>
                        </div>
                      </div>
                        
                      ))}
               
                    
                    </div>
                    <h3 class="wow fadeInUp" data-wow-delay=".3s">Frequently asked questions</h3>
                    <div class="accordion tj-faq style-2" id="faqOne">
                    {service.data.faqs.map((faq, serial) => (
  serial === 0 ? (
    <div class="accordion-item active wow fadeInUp" data-wow-delay=".3s" >
      <button
        class="faq-title"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target={`#faq-${serial + 1}`}
        aria-expanded="true"
      >
        {faq.question}
      </button>
      <div
        id={`faq-${serial + 1}`}
        class="collapse show"
        data-bs-parent="#faqOne"
      >
        <div class="accordion-body faq-text">
          <p>{faq.answer}</p>
        </div>
      </div>
    </div>
  ) : (
    <div class="accordion-item wow fadeInUp" data-wow-delay=".3s" >
      <button
        class="faq-title collapsed"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target={`#faq-${serial + 1}`}
        aria-expanded="false"
      >
        {faq.question}
      </button>
      <div
        id={`faq-${serial + 1}`}
        class="collapse"
        data-bs-parent="#faqOne"
      >
        <div class="accordion-body faq-text">
          <p>{faq.answer}</p>
        </div>
      </div>
    </div>
  )
))}
                  
              
                    </div>

                  </div>
            
                </div>
              </div>

              <Services />
           
            </div>
          </div>
        </section>
        <!-- end: Blog Section -->

        <!-- start: Cta Section -->
        <section class="tj-cta-section">
          <div class="container">
            <div class="row">
              <div class="col-12">
                <div class="cta-area">
                  <div class="cta-content">
                    <h2 class="title title-anim">Letâ€™s Build Future Together.</h2>
                    <div class="cta-btn wow fadeInUp" data-wow-delay=".6s">
                      <a class="tj-primary-btn btn-dark" href="/contact">
                        <span class="btn-text"><span>Get Started Now</span></span>
                        <span class="btn-icon"><i class="tji-arrow-right-long"></i></span>
                      </a>
                    </div>
                  </div>
                  <div class="cta-img">
                                               {service.data.image3 && (
  <Image src={service.data.image3} alt="" />
)}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!-- end: Cta Section -->
      </main>

      <!-- start: Footer Section -->
    <Footer/>
      <!-- end: Footer Section -->
    </div>
  </div>

</BaseLayout>